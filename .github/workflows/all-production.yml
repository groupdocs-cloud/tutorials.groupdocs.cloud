# Master workflow to trigger all production workflows

name: All Production Workflows

# Controls when the action will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
    paths:
      - 'content/**'
  pull_request:
    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  trigger-all-production:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger home-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: home-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger viewer-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: viewer-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger annotation-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: annotation-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger assembly-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: assembly-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger comparison-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: comparison-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger conversion-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: conversion-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger editor-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: editor-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger merger-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: merger-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger parser-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: parser-production.yml
          token: ${{ secrets.REPO_TOKEN }}

      - name: Trigger signature-production
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: signature-production.yml
          token: ${{ secrets.REPO_TOKEN }}
